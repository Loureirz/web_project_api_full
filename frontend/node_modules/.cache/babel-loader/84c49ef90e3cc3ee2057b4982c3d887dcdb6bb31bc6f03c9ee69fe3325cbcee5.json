{"ast":null,"code":"class Api{constructor(options){this._baseUrl=options.baseUrl;this._headers=options.headers;}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}editUserInfo(name,about){return fetch(`${this._baseUrl}/users/me`,{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}addCard(_ref){let{name,link}=_ref;console.log(this._baseUrl);return fetch(`${this._baseUrl}/cards`,{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}addLikes(cardId){return fetch(`https://around.nomoreparties.co/v1/web-ptbr-cohort-10/cards/likes/${cardId}`,{method:\"PUT\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}removeLike(cardId){return fetch(`https://around.nomoreparties.co/v1/web-ptbr-cohort-10/cards/likes/${cardId}`,{method:\"DELETE\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}removeCard(cardId){return fetch(`https://around.nomoreparties.co/v1/web-ptbr-cohort-10/cards/likes/${cardId}`,{method:\"DELETE\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}editAvatar(_ref2){let{avatar}=_ref2;return fetch(`https://around.nomoreparties.co/v1/web-ptbr-cohort-10/users/me/avatar`,{method:\"PATCH\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"},body:JSON.stringify({avatar:avatar})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}}const api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/web-ptbr-cohort-10\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"names":["Api","constructor","options","_baseUrl","baseUrl","_headers","headers","getInitialCards","fetch","then","res","ok","json","Promise","reject","status","getUserInfo","editUserInfo","name","about","method","body","JSON","stringify","addCard","_ref","link","console","log","addLikes","cardId","authorization","removeLike","removeCard","editAvatar","_ref2","avatar","api"],"sources":["/Users/yuriloureiro/Projects/web_project_around_react/src/utils/api.js"],"sourcesContent":["class Api {\n    constructor(options) {\n      this._baseUrl = options.baseUrl;\n      this._headers = options.headers;\n    }\n\n    getInitialCards() {\n      return fetch(`${this._baseUrl}/cards`, {\n        headers: this._headers\n      })\n        .then(res => {\n          if (res.ok){\n            return res.json();\n          }\n          return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n\n    getUserInfo() {\n      return fetch(`${this._baseUrl}/users/me`, {\n        headers: this._headers\n      })\n        .then(res => {\n          if (res.ok){\n            return res.json();\n          }\n          return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n\n    editUserInfo(name, about) {\n      return fetch(`${this._baseUrl}/users/me`, {\n        method: \"PATCH\",\n        headers: this._headers,\n        body: JSON.stringify({\n          name: name,\n          about: about,\n        }),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    addCard({name, link}) {\n      console.log(this._baseUrl)\n      return fetch(`${this._baseUrl}/cards`, {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify({\n          name: name,\n          link: link,\n        }),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    addLikes(cardId) {\n      return fetch(`https://around.nomoreparties.co/v1/web-ptbr-cohort-10/cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        },\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    removeLike(cardId) {\n      return fetch(`https://around.nomoreparties.co/v1/web-ptbr-cohort-10/cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        },\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    removeCard(cardId) {\n      return fetch(`https://around.nomoreparties.co/v1/web-ptbr-cohort-10/cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        },\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    editAvatar({avatar}) {\n      return fetch(`https://around.nomoreparties.co/v1/web-ptbr-cohort-10/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ avatar: avatar }),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n        }\n    }\n\n    const api = new Api({\n        baseUrl: \"https://around.nomoreparties.co/v1/web-ptbr-cohort-10\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        }\n      });\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}