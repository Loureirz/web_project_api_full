{"ast":null,"code":"export default class FormValidator {\n  constructor(config, formElement) {\n    this._config = config;\n    this._formElement = formElement;\n    this._inputList = Array.from(this._formElement.querySelectorAll(this._config.inputSelector));\n    this._submitButton = this._formElement.querySelector(this._config.submitButtonSelector);\n    if (!this._submitButton) {\n      console.error('Botão de submit não encontrado!');\n    }\n  }\n\n  // Exibe mensagem de erro\n  _showInputError(input, errorMessage) {\n    const errorElement = this._formElement.querySelector(`#${input.id}-error`);\n    if (!errorElement) {\n      console.warn(`Elemento de erro não encontrado para o input: ${input.id}`);\n      return; // Se não existe o erro, encerra a função\n    }\n    input.classList.add(this._config.inputErrorClass);\n    errorElement.textContent = errorMessage;\n    errorElement.classList.add(this._config.errorClassVisible);\n  }\n\n  // Oculta mensagem de erro\n  _hideInputError(input) {\n    const errorElement = this._formElement.querySelector(`#${input.id}-error`);\n    if (!errorElement) {\n      console.warn(`Elemento de erro não encontrado para o input: ${input.id}`);\n      return; // Se não existe o erro, encerra a função\n    }\n    input.classList.remove(this._config.inputErrorClass);\n    errorElement.classList.remove(this._config.errorClassVisible);\n    errorElement.textContent = '';\n  }\n\n  // Verifica a validade do input e mostra ou oculta o erro conforme necessário\n  _checkInputValidity(input) {\n    const errorElement = this._formElement.querySelector(`#${input.id}-error`);\n    if (!input.validity.valid) {\n      this._showInputError(input, input.validationMessage);\n    } else {\n      this._hideInputError(input);\n    }\n    // Se estiver usando uma verificação de comprimento, adicione ela aqui.\n    if (input.value.trim().length === 0 || input.value.trim().length < 2) {\n      this._checkInputLength(input, errorElement);\n    } else {\n      this._hideInputError(input);\n    }\n  }\n\n  // Verifica a validade do comprimento do input\n  _checkInputLength(input, errorElement) {\n    if (!errorElement) return; // Se não encontrar o elemento de erro, retorna.\n\n    if (input.value.trim().length === 0) {\n      errorElement.textContent = \"Preencha este campo.\";\n      return false;\n    } else if (input.value.trim().length < 2) {\n      errorElement.textContent = \"O campo deve ter pelo menos 2 caracteres.\";\n      return false;\n    } else {\n      errorElement.textContent = \"\";\n      return true;\n    }\n  }\n\n  // Verifica se algum input está inválido\n  _hasInvalidInput() {\n    return this._inputList.some(input => !input.validity.valid);\n  }\n\n  // Atualiza o estado do botão de submit com base na validade dos inputs\n  _toggleButtonState() {\n    if (!this._submitButton) return; // Verifica se o botão de submit foi encontrado\n\n    if (this._hasInvalidInput()) {\n      this._submitButton.classList.add(this._config.inactiveButtonClass);\n      this._submitButton.setAttribute('disabled', true);\n      console.log('Botão de submit desativado');\n    } else {\n      this._submitButton.classList.remove(this._config.inactiveButtonClass);\n      this._submitButton.removeAttribute('disabled');\n      console.log('Botão de submit ativado');\n    }\n  }\n\n  // Adiciona ouvintes de eventos para cada input do formulário\n  _setEventListeners() {\n    this._inputList.forEach(input => {\n      input.addEventListener('input', () => {\n        this._checkInputValidity(input);\n        this._toggleButtonState();\n      });\n    });\n  }\n\n  // Ativa a validação\n  enableValidation() {\n    this._formElement.addEventListener('submit', evt => evt.preventDefault());\n    this._setEventListeners();\n    this._toggleButtonState(); // Estado inicial do botão\n  }\n\n  // Reseta a validação para remover erros e ajustar o estado do botão\n  resetValidation() {\n    this._inputList.forEach(input => this._hideInputError(input));\n    this._toggleButtonState();\n  }\n}","map":{"version":3,"names":["FormValidator","constructor","config","formElement","_config","_formElement","_inputList","Array","from","querySelectorAll","inputSelector","_submitButton","querySelector","submitButtonSelector","console","error","_showInputError","input","errorMessage","errorElement","id","warn","classList","add","inputErrorClass","textContent","errorClassVisible","_hideInputError","remove","_checkInputValidity","validity","valid","validationMessage","value","trim","length","_checkInputLength","_hasInvalidInput","some","_toggleButtonState","inactiveButtonClass","setAttribute","log","removeAttribute","_setEventListeners","forEach","addEventListener","enableValidation","evt","preventDefault","resetValidation"],"sources":["/Users/yuriloureiro/Projects/web_project_around_react/src/utils/FormValidator.js"],"sourcesContent":["export default class FormValidator {\n  constructor(config, formElement) {\n    this._config = config;\n    this._formElement = formElement;\n    this._inputList = Array.from(this._formElement.querySelectorAll(this._config.inputSelector));\n    this._submitButton = this._formElement.querySelector(this._config.submitButtonSelector);\n\n    if (!this._submitButton) {\n      console.error('Botão de submit não encontrado!');\n    }\n  }\n\n  // Exibe mensagem de erro\n  _showInputError(input, errorMessage) {\n    const errorElement = this._formElement.querySelector(`#${input.id}-error`);\n    if (!errorElement) {\n      console.warn(`Elemento de erro não encontrado para o input: ${input.id}`);\n      return; // Se não existe o erro, encerra a função\n    }\n    input.classList.add(this._config.inputErrorClass);\n    errorElement.textContent = errorMessage;\n    errorElement.classList.add(this._config.errorClassVisible);\n  }\n\n  // Oculta mensagem de erro\n  _hideInputError(input) {\n    const errorElement = this._formElement.querySelector(`#${input.id}-error`);\n    if (!errorElement) {\n      console.warn(`Elemento de erro não encontrado para o input: ${input.id}`);\n      return; // Se não existe o erro, encerra a função\n    }\n    input.classList.remove(this._config.inputErrorClass);\n    errorElement.classList.remove(this._config.errorClassVisible);\n    errorElement.textContent = '';\n  }\n\n  // Verifica a validade do input e mostra ou oculta o erro conforme necessário\n  _checkInputValidity(input) {\n    const errorElement = this._formElement.querySelector(`#${input.id}-error`);\n    if (!input.validity.valid) {\n      this._showInputError(input, input.validationMessage);\n    } else {\n      this._hideInputError(input);\n    }\n    // Se estiver usando uma verificação de comprimento, adicione ela aqui.\n    if (input.value.trim().length === 0 || input.value.trim().length < 2) {\n      this._checkInputLength(input, errorElement);\n    } else {\n      this._hideInputError(input);\n    }\n  }\n\n  // Verifica a validade do comprimento do input\n  _checkInputLength(input, errorElement) {\n    if (!errorElement) return; // Se não encontrar o elemento de erro, retorna.\n    \n    if (input.value.trim().length === 0) {\n      errorElement.textContent = \"Preencha este campo.\";\n      return false;\n    } else if (input.value.trim().length < 2) {\n      errorElement.textContent = \"O campo deve ter pelo menos 2 caracteres.\";\n      return false;\n    } else {\n      errorElement.textContent = \"\";\n      return true;\n    }\n  }\n\n  // Verifica se algum input está inválido\n  _hasInvalidInput() {\n    return this._inputList.some((input) => !input.validity.valid);\n  }\n\n  // Atualiza o estado do botão de submit com base na validade dos inputs\n  _toggleButtonState() {\n    if (!this._submitButton) return; // Verifica se o botão de submit foi encontrado\n\n    if (this._hasInvalidInput()) {\n      this._submitButton.classList.add(this._config.inactiveButtonClass);\n      this._submitButton.setAttribute('disabled', true);\n      console.log('Botão de submit desativado');\n    } else {\n      this._submitButton.classList.remove(this._config.inactiveButtonClass);\n      this._submitButton.removeAttribute('disabled');\n      console.log('Botão de submit ativado');\n    }\n  }\n\n  // Adiciona ouvintes de eventos para cada input do formulário\n  _setEventListeners() {\n    this._inputList.forEach((input) => {\n      input.addEventListener('input', () => {\n        this._checkInputValidity(input);\n        this._toggleButtonState();\n      });\n    });\n  }\n\n  // Ativa a validação\n  enableValidation() {\n    this._formElement.addEventListener('submit', (evt) => evt.preventDefault());\n    this._setEventListeners();\n    this._toggleButtonState();  // Estado inicial do botão\n  }\n\n  // Reseta a validação para remover erros e ajustar o estado do botão\n  resetValidation() {\n    this._inputList.forEach((input) => this._hideInputError(input));\n    this._toggleButtonState();\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}