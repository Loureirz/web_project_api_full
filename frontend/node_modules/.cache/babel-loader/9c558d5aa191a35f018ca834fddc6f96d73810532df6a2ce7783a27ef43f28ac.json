{"ast":null,"code":"class Api{constructor(options){this._baseUrl=options.baseUrl;this._headers=options.headers;}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}editUserInfo(_ref){let{name,about}=_ref;return fetch(`${this._baseUrl}/users/me`,{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Erro: ${res.status}`);}).catch(error=>{console.log(\"Erro ao editar o perfil:\",error);return Promise.reject(error);});}addCard(_ref2){let{name,link}=_ref2;return fetch(`${this._baseUrl}/cards`,{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}addLikes(cardId){return fetch(`${this._baseUrl}/cards/likes/${cardId}`,{method:\"PUT\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}removeLike(cardId){return fetch(`${this._baseUrl}/cards/likes/${cardId}`,{method:\"DELETE\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}removeCard(cardId){return fetch(`${this._baseUrl}/cards/likes/${cardId}`,{method:\"DELETE\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"}}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}editAvatar(_ref3){let{avatar}=_ref3;return fetch(`${this._baseUrl}/users/me/avatar`,{method:\"PATCH\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"},body:JSON.stringify({avatar:avatar})}).then(res=>{if(res.ok){return res.json();}return Promise.reject(`Error: ${res.status}`);});}changeLikeCardStatus(cardId,isLiked){return isLiked?this.removeLike(cardId):this.addLikes(cardId);}}const api=new Api({baseUrl:\"https://web-project-api-full-daen.onrender.com\",headers:{authorization:\"cc445779-d6db-4667-8701-d2576b6346ad\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"names":["Api","constructor","options","_baseUrl","baseUrl","_headers","headers","getInitialCards","fetch","then","res","ok","json","Promise","reject","status","getUserInfo","editUserInfo","_ref","name","about","method","body","JSON","stringify","catch","error","console","log","addCard","_ref2","link","addLikes","cardId","authorization","removeLike","removeCard","editAvatar","_ref3","avatar","changeLikeCardStatus","isLiked","api"],"sources":["/Users/yuriloureiro/Projects/web_project_api_full/frontend/src/utils/api.js"],"sourcesContent":["class Api {\n    constructor(options) {\n      this._baseUrl = options.baseUrl;\n      this._headers = options.headers;\n    }\n\n    getInitialCards() {\n      return fetch(`${this._baseUrl}/cards`, {\n        headers: this._headers\n      })\n        .then(res => {\n          if (res.ok){\n            return res.json();\n          }\n          return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n\n    getUserInfo() {\n      return fetch(`${this._baseUrl}/users/me`, {\n        headers: this._headers\n      })\n        .then(res => {\n          if (res.ok){\n            return res.json();\n          }\n          return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n\n    editUserInfo({ name, about }) {\n      return fetch(`${this._baseUrl}/users/me`, {\n        method: \"PATCH\",\n        headers: this._headers,\n        body: JSON.stringify({\n          name: name,\n          about: about,\n        }),\n      })\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Erro: ${res.status}`);\n        })\n        .catch((error) => {\n          console.log(\"Erro ao editar o perfil:\", error);\n          return Promise.reject(error);\n        });\n    }\n    \n    \n    \n\n    addCard({name, link}) {\n      return fetch(`${this._baseUrl}/cards`, {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify({\n          name: name,\n          link: link,\n        }),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    addLikes(cardId) {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        },\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    removeLike(cardId) {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        },\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    removeCard(cardId) {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        },\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n    }\n\n    editAvatar({avatar}) {\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ avatar: avatar }),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Error: ${res.status}`);\n      });\n        }\n\n        changeLikeCardStatus(cardId, isLiked) {\n          return isLiked ? this.removeLike(cardId) : this.addLikes(cardId);\n        }\n    }\n\n    const api = new Api({\n        baseUrl: \"https://web-project-api-full-daen.onrender.com\",\n        headers: {\n          authorization: \"cc445779-d6db-4667-8701-d2576b6346ad\",\n          \"Content-Type\": \"application/json\"\n        }\n      });\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}