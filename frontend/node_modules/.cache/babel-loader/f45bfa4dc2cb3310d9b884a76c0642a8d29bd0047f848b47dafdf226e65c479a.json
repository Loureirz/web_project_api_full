{"ast":null,"code":"import{NavLink,useNavigate}from\"react-router\";import InfoTooltip from\"./InfoToolTip\";import{useState}from\"react\";import*as auth from\"../utils/auth\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Register(){const[formData,setFormData]=useState({email:\"\",password:\"\"});const[isModalOpen,setIsModalOpen]=useState(false);const[isSuccess,setIsSuccess]=useState(false);const[message,setMessage]=useState(\"\");const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=async e=>{e.preventDefault();try{await auth.signup(formData.email,formData.password);setIsSuccess(true);setMessage(\"Cadastro realizado com sucesso!\");setIsModalOpen(true);setTimeout(()=>{navigate(\"/signin\");// Redireciona após fechar o modal\n},2000);}catch(err){setIsSuccess(false);setMessage(\"Erro ao realizar o cadastro. Tente novamente.\");setIsModalOpen(true);}};const handleCloseModal=()=>{setIsModalOpen(false);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"register__welcome\",children:\"Inscrever-se\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth__form register__form\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"E-mail\",id:\"email\",name:\"email\",type:\"email\",value:formData.email,onChange:handleChange,className:\"auth__input register__input\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:formData.password,id:\"password\",onChange:handleChange,placeholder:\"Senha\",minLength:6,className:\"auth__input register__input\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\"}),/*#__PURE__*/_jsx(\"div\",{className:\"register__button-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth__button register__button\",children:\"Inscrever-se\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"register__signin\",children:[\"J\\xE1 \\xE9 um membro?\",\" \",/*#__PURE__*/_jsx(NavLink,{className:\"link\",to:\"/signin\",children:\"Fa\\xE7a o Login aqui!\"})]}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:isModalOpen,onClose:handleCloseModal,isSuccess:isSuccess,message:message})]})});}export default Register;","map":{"version":3,"names":["NavLink","useNavigate","InfoTooltip","useState","auth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","formData","setFormData","email","password","isModalOpen","setIsModalOpen","isSuccess","setIsSuccess","message","setMessage","navigate","handleChange","e","name","value","target","handleSubmit","preventDefault","signup","setTimeout","err","handleCloseModal","children","className","onSubmit","placeholder","id","type","onChange","required","minLength","to","isOpen","onClose"],"sources":["/Users/yuriloureiro/Projects/web_project_api_full/frontend/src/components/Register.jsx"],"sourcesContent":["import { NavLink, useNavigate } from \"react-router\";\nimport InfoTooltip from \"./InfoToolTip\";\nimport { useState } from \"react\";\nimport * as auth from \"../utils/auth\";\n\nfunction Register() {\n\n    const [formData, setFormData] = useState({\n      email: \"\",\n      password: \"\",\n    });\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n      const { name, value } = e.target;\n      setFormData({ ...formData, [name]: value });\n    };\n\n    const handleSubmit = async (e) => {\n      e.preventDefault();\n  \n      try {\n        await auth.signup(formData.email, formData.password);\n        setIsSuccess(true);\n        setMessage(\"Cadastro realizado com sucesso!\");\n        setIsModalOpen(true);\n  \n        setTimeout(() => {\n          navigate(\"/signin\"); // Redireciona após fechar o modal\n        }, 2000);\n      } catch (err) {\n        setIsSuccess(false);\n        setMessage(\"Erro ao realizar o cadastro. Tente novamente.\");\n        setIsModalOpen(true);\n      }\n    };\n\n    const handleCloseModal = () => {\n      setIsModalOpen(false);\n    }\n\n    return (\n        <>\n          <div className=\"register\">\n            <p className=\"register__welcome\">Inscrever-se</p>\n            <form\n              onSubmit={handleSubmit}\n              className=\"auth__form register__form\"\n            >\n              <input\n                placeholder=\"E-mail\"\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                className=\"auth__input register__input\"\n                required\n              />\n              <span className=\"popup__error\"></span>\n              <input\n                name=\"password\"\n                type=\"password\"\n                value={formData.password}\n                id=\"password\"\n                onChange={handleChange}\n                placeholder=\"Senha\"\n                minLength={6}\n                className=\"auth__input register__input\"\n                required\n              />\n              <span className=\"popup__error\"></span>\n              <div className=\"register__button-container\">\n                <button type=\"submit\" className=\"auth__button register__button\">\n                  Inscrever-se\n                </button>\n              </div>\n            </form>\n  \n            <p className=\"register__signin\">\n              Já é um membro?{\" \"}\n              <NavLink className=\"link\" to=\"/signin\">\n                Faça o Login aqui!\n              </NavLink>\n            </p>\n            <InfoTooltip\n            isOpen={isModalOpen}\n            onClose={handleCloseModal}\n            isSuccess={isSuccess}\n            message={message}\n          />\n          </div>\n        </>\n      );\n}\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}