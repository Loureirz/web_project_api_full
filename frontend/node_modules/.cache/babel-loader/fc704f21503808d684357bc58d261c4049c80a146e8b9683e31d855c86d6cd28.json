{"ast":null,"code":"import{useState,useEffect}from\"react\";import profilePic from\"../image/image.jpg\";import buttonPic from\"../image/vector.svg\";import buttonAddPic from\"../image/vectoradd.svg\";import close from\"../image/close.svg\";import PopupWithForm from\"./PopupWithForm\";import api from\"../utils/api\";import Card from\"./Card\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(_ref){let{onEditAvatarClick,isEditAvatarPopupOpen,onEditProfileClick,isEditProfilePopupOpen,onAddPlaceClick,isAddPlacePopupOpen,closeAllPopups,onCardClick}=_ref;const[userName,setUserName]=useState('');const[userDescription,setUserDescription]=useState('');const[userAvatar,setUserAvatar]=useState('');const[cards,setCards]=useState([]);useEffect(()=>{api.getUserInfo().then(data=>{setUserName(data.name);setUserDescription(data.about);setUserAvatar(data.avatar);}).catch(error=>console.log('Erro ao obter dados do usuário:',error));api.getInitialCards().then(setCards).catch(error=>console.log('Erro ao obter dados do usuário:',error));},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__image-edit\",onClick:onEditAvatarClick,children:/*#__PURE__*/_jsx(\"img\",{src:userAvatar,alt:\"Foto Profile\",className:\"profile__image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"profile__info-name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__info-button\",onClick:onEditProfileClick,children:/*#__PURE__*/_jsx(\"img\",{src:buttonPic,alt:\"Button Image\",className:\"profile__info-button-image\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__info-text\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button\",onClick:onAddPlaceClick,children:/*#__PURE__*/_jsx(\"img\",{src:buttonAddPic,alt:\"Button Add Image\",className:\"profile__button-add\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup popup-confirm\",id:\"popup-confirm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overlay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-confirm__element\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"popup__close\",children:/*#__PURE__*/_jsx(\"img\",{src:close,alt:\"icone de fechar\",className:\"popup__close-img\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"popup-confirm__text\",children:\"Tem certeza?\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"popup-confirm__btn\",id:\"popup-confirm-btn\",children:\"Sim\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"elements\",children:cards.map(card=>/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick},card._id))}),/*#__PURE__*/_jsxs(PopupWithForm,{name:\"user\",title:\"Editar Perfil\",isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"text\",className:\"form__input-name\",minLength:\"2\",maxLength:\"40\",placeholder:\"Nome\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"form__input-name-error\"}),/*#__PURE__*/_jsx(\"input\",{name:\"about\",type:\"text\",className:\"form__input-job\",minLength:\"2\",maxLength:\"200\",placeholder:\"Sobre\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"form__input-job-error\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form__submit\",children:\"Salvar\"})]}),/*#__PURE__*/_jsxs(PopupWithForm,{name:\"avatar\",title:\"Alterar a Foto de Perfil\",isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__avatar-input\",id:\"avatar\",placeholder:\"Link da Imagem\",type:\"url\",name:\"image\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"git\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup__avatar-submit\",type:\"submit\",children:\"Salvar\"})]}),/*#__PURE__*/_jsxs(PopupWithForm,{name:\"card\",title:\"Novo Local\",isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"formcard__input-title\",name:\"name\",minLength:\"2\",maxLength:\"30\",placeholder:\"T\\xEDtulo\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"formcard__input-title-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"link-image\",type:\"url\",className:\"formcard__input-link\",name:\"link\",placeholder:\"Link da Imagem\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"formcard__input-link-error\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"Criar\",className:\"formcard__submit\",children:\"Criar\"})]})]});}","map":{"version":3,"names":["useState","useEffect","profilePic","buttonPic","buttonAddPic","close","PopupWithForm","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditAvatarClick","isEditAvatarPopupOpen","onEditProfileClick","isEditProfilePopupOpen","onAddPlaceClick","isAddPlacePopupOpen","closeAllPopups","onCardClick","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","getUserInfo","then","data","name","about","avatar","catch","error","console","log","getInitialCards","className","children","type","onClick","src","alt","id","map","card","_id","title","isOpen","onClose","minLength","maxLength","placeholder","required","value"],"sources":["/Users/yuriloureiro/Projects/web_project_around_react/src/components/Main.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport profilePic from \"../image/image.jpg\";\nimport buttonPic from \"../image/vector.svg\";\nimport buttonAddPic from \"../image/vectoradd.svg\";\nimport close from \"../image/close.svg\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport api from \"../utils/api\";\nimport Card from \"./Card\";\n\nexport default function Main({onEditAvatarClick, isEditAvatarPopupOpen, onEditProfileClick, isEditProfilePopupOpen, onAddPlaceClick, isAddPlacePopupOpen, closeAllPopups, onCardClick}) {\n\n  const [userName, setUserName] = useState('');\n  const [userDescription, setUserDescription] = useState('');\n  const [userAvatar, setUserAvatar] = useState('');\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then(data => {\n        setUserName(data.name)\n        setUserDescription(data.about)\n        setUserAvatar(data.avatar)\n      })\n      .catch((error) => console.log('Erro ao obter dados do usuário:', error));\n\n      api\n      .getInitialCards()\n      .then(setCards)\n      .catch((error) => console.log('Erro ao obter dados do usuário:', error));\n  }, []);\n\n  return (\n        <main className=\"main\">\n      <section className=\"profile\">\n        <button type=\"button\" className=\"profile__image-edit\" onClick={onEditAvatarClick}>\n          <img src={userAvatar} alt=\"Foto Profile\" className=\"profile__image\"/>\n        </button>\n        <div className=\"profile__info\">\n          <h4 className=\"profile__info-name\">{userName}</h4>\n          <button className=\"profile__info-button\" onClick={onEditProfileClick}>\n            <img src={buttonPic} alt=\"Button Image\" className=\"profile__info-button-image\"/>\n          </button>\n          <p className=\"profile__info-text\">{userDescription}</p>\n\n\n        </div>\n        <button className=\"profile__button\" onClick={onAddPlaceClick}>\n          <img src={buttonAddPic} alt=\"Button Add Image\" className=\"profile__button-add\"/>\n        </button>\n        \n\n        \n\n        <div className=\"popup popup-confirm\" id=\"popup-confirm\">\n          <div className=\"overlay\"></div>\n          <div className=\"popup-confirm__element\" >\n            <button className=\"popup__close\"><img src={close} alt=\"icone de fechar\" className=\"popup__close-img\"/></button>\n            <h2 className=\"popup-confirm__text\">Tem certeza?</h2>\n            <button type=\"submit\" className=\"popup-confirm__btn\" id=\"popup-confirm-btn\">Sim</button>\n          </div>\n        </div>\n      </section>\n      <div className=\"elements\">\n      {cards.map(card => (\n        <Card key={card._id} card={card} onCardClick={onCardClick} />\n      ))}\n      </div>\n\n      <PopupWithForm name=\"user\" title=\"Editar Perfil\" isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}>\n              <input name=\"name\" type=\"text\" className=\"form__input-name\"  minLength=\"2\"\n                maxLength=\"40\" placeholder=\"Nome\" required/>\n              <p className=\"form__input-name-error\"></p>\n              <input name=\"about\" type=\"text\" className=\"form__input-job\"   minLength=\"2\"\n                maxLength=\"200\" placeholder=\"Sobre\" required/>\n              <p className=\"form__input-job-error\"></p>\n              <button type=\"submit\"  className=\"form__submit\">Salvar</button>\n      </PopupWithForm>\n\n      <PopupWithForm name=\"avatar\" title=\"Alterar a Foto de Perfil\" isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}>\n              <input\n                className=\"popup__avatar-input\"\n                id=\"avatar\"\n                placeholder=\"Link da Imagem\"\n                type=\"url\"\n                name=\"image\"\n                required\n              />\n              <p className=\"git\"></p>\n              <button className=\"popup__avatar-submit\" type=\"submit\">Salvar</button>\n      </PopupWithForm>\n\n      <PopupWithForm name=\"card\" title=\"Novo Local\" isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}>\n              <input type=\"text\" className=\"formcard__input-title\" name=\"name\"  minLength=\"2\"\n                maxLength=\"30\" placeholder=\"Título\" required/>\n              <p className=\"formcard__input-title-error\"></p>\n              <input id=\"link-image\" type=\"url\" className=\"formcard__input-link\" name=\"link\" placeholder=\"Link da Imagem\"\n                required/>\n              <p className=\"formcard__input-link-error\"></p>\n              <button type=\"submit\" value=\"Criar\" className=\"formcard__submit\">Criar</button>\n      </PopupWithForm>\n    </main>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}